{"@t":"2024-12-27T12:05:49.3743630Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"f46a17d69ac4eaa7084e7a0b988be1a7","@sp":"1714f1da5aee987f","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN96DR0HRQD0:00000003","RequestPath":"/api/Administration/GetUserActions","ConnectionId":"0HN96DR0HRQD0"}
{"@t":"2024-12-27T12:53:33.2937300Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"5b34c173cf66c85b53fd761a5a2db15c","@sp":"237525538f1865b5","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN96ELPLJMJA:00000003","RequestPath":"/api/Administration/GetUserActions","ConnectionId":"0HN96ELPLJMJA"}
{"@t":"2024-12-27T12:55:20.3859330Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"6c87dec3d445ea34ab0f6d82ecf9c7a7","@sp":"a36658b572b893e7","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN96EMPKSU14:00000003","RequestPath":"/api/Administration/GetUserActions","ConnectionId":"0HN96EMPKSU14"}
{"@t":"2024-12-27T21:17:14.9451050Z","@mt":"Failed executing DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@l":"Error","@tr":"ab90b234ac1d820a952b4f781c95a4dd","@sp":"b774b1df1a21a626","elapsed":"59","parameters":"@__p_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ActivatedBy], [a].[ActivatedDate], [a].[ApprovedBy], [a].[ApprovedDate], [a].[Channel], [a].[ConcurrencyStamp], [a].[ContactPerson_Email], [a].[ContactPerson_FullName], [a].[ContactPerson_PhoneNumber], [a].[ContactPerson_Position], [a].[CreatedBy], [a].[CreatedDate], [a].[DeactivatedBy], [a].[DeactivatedDate], [a].[DeactivatedReasons], [a].[DeletedBy], [a].[DeletedDate], [a].[DepartmentId], [a].[DisapprovedBy], [a].[DisapprovedDate], [a].[DisapprovedReasons], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IdentificationImage], [a].[IdentificationImageOne], [a].[IdentificationNumber], [a].[IdentificationTypeId], [a].[IdentificationUniqueNumber], [a].[LastName], [a].[LastReceiptImage], [a].[LastReceiptNumber], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MiddleName], [a].[ModifiedBy], [a].[ModifiedDate], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PartnerName], [a].[PassportPicture], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[RegistrationDate], [a].[RejectedBy], [a].[RejectedDate], [a].[RejectedReasons], [a].[SecurityStamp], [a].[SelfieImage], [a].[Status], [a].[TwoFactorEnabled], [a].[UnitId], [a].[UserName], [a].[VerifiedBy], [a].[VerifiedDate]\nFROM [AspNetUsers] AS [a]\nWHERE [a].[Id] = @__p_0","EventId":{"Id":20102,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HN96NFA8DDQA:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN96NFA8DDQA"}
{"@t":"2024-12-27T21:17:15.0052960Z","@mt":"An exception occurred while iterating over the results of a query for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'DeactivatedReasons'.\nInvalid column name 'DisapprovedReasons'.\nInvalid column name 'RejectedReasons'.\n   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)\n   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\n--- End of stack trace from previous location ---\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\n--- End of stack trace from previous location ---\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\nClientConnectionId:78c33235-b1f6-4f65-98f5-4fd4de3c025c\nError Number:207,State:1,Class:16","@tr":"ab90b234ac1d820a952b4f781c95a4dd","@sp":"b774b1df1a21a626","contextType":"Modules.Users.Infrastructure.UserDbContext","newline":"\n","error":"Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'DeactivatedReasons'.\nInvalid column name 'DisapprovedReasons'.\nInvalid column name 'RejectedReasons'.\n   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)\n   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\n--- End of stack trace from previous location ---\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\n--- End of stack trace from previous location ---\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\nClientConnectionId:78c33235-b1f6-4f65-98f5-4fd4de3c025c\nError Number:207,State:1,Class:16","EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","RequestId":"0HN96NFA8DDQA:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN96NFA8DDQA"}
{"@t":"2024-12-27T21:17:15.0137480Z","@mt":"An unhandled exception has occurred while executing the request.","@l":"Error","@x":"Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'DeactivatedReasons'.\nInvalid column name 'DisapprovedReasons'.\nInvalid column name 'RejectedReasons'.\n   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)\n   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\n--- End of stack trace from previous location ---\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\n--- End of stack trace from previous location ---\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\n   at Microsoft.AspNetCore.Identity.SignInManager`1.ValidateSecurityStampAsync(ClaimsPrincipal principal)\n   at Microsoft.AspNetCore.Identity.SecurityStampValidator`1.ValidateAsync(CookieValidatePrincipalContext context)\n   at Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler.HandleAuthenticateAsync()\n   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.AuthenticateAsync()\n   at Microsoft.AspNetCore.Authentication.AuthenticationService.AuthenticateAsync(HttpContext context, String scheme)\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)\nClientConnectionId:78c33235-b1f6-4f65-98f5-4fd4de3c025c\nError Number:207,State:1,Class:16","@tr":"ab90b234ac1d820a952b4f781c95a4dd","@sp":"b774b1df1a21a626","EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HN96NFA8DDQA:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN96NFA8DDQA"}
{"@t":"2024-12-27T21:17:15.1536620Z","@mt":"Failed executing DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@l":"Error","@tr":"046569d683ef1e0e976d140cb37f815e","@sp":"f5d9034d72aa04e5","elapsed":"9","parameters":"@__p_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ActivatedBy], [a].[ActivatedDate], [a].[ApprovedBy], [a].[ApprovedDate], [a].[Channel], [a].[ConcurrencyStamp], [a].[ContactPerson_Email], [a].[ContactPerson_FullName], [a].[ContactPerson_PhoneNumber], [a].[ContactPerson_Position], [a].[CreatedBy], [a].[CreatedDate], [a].[DeactivatedBy], [a].[DeactivatedDate], [a].[DeactivatedReasons], [a].[DeletedBy], [a].[DeletedDate], [a].[DepartmentId], [a].[DisapprovedBy], [a].[DisapprovedDate], [a].[DisapprovedReasons], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[IdentificationImage], [a].[IdentificationImageOne], [a].[IdentificationNumber], [a].[IdentificationTypeId], [a].[IdentificationUniqueNumber], [a].[LastName], [a].[LastReceiptImage], [a].[LastReceiptNumber], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MiddleName], [a].[ModifiedBy], [a].[ModifiedDate], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PartnerName], [a].[PassportPicture], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[RegistrationDate], [a].[RejectedBy], [a].[RejectedDate], [a].[RejectedReasons], [a].[SecurityStamp], [a].[SelfieImage], [a].[Status], [a].[TwoFactorEnabled], [a].[UnitId], [a].[UserName], [a].[VerifiedBy], [a].[VerifiedDate]\nFROM [AspNetUsers] AS [a]\nWHERE [a].[Id] = @__p_0","EventId":{"Id":20102,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","RequestId":"0HN96NFA8DDQA:00000002","RequestPath":"/favicon.ico","ConnectionId":"0HN96NFA8DDQA"}
{"@t":"2024-12-27T21:17:15.1549260Z","@mt":"An exception occurred while iterating over the results of a query for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'DeactivatedReasons'.\nInvalid column name 'DisapprovedReasons'.\nInvalid column name 'RejectedReasons'.\n   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)\n   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\n--- End of stack trace from previous location ---\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\n--- End of stack trace from previous location ---\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\nClientConnectionId:78c33235-b1f6-4f65-98f5-4fd4de3c025c\nError Number:207,State:1,Class:16","@tr":"046569d683ef1e0e976d140cb37f815e","@sp":"f5d9034d72aa04e5","contextType":"Modules.Users.Infrastructure.UserDbContext","newline":"\n","error":"Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'DeactivatedReasons'.\nInvalid column name 'DisapprovedReasons'.\nInvalid column name 'RejectedReasons'.\n   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)\n   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\n--- End of stack trace from previous location ---\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\n--- End of stack trace from previous location ---\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\nClientConnectionId:78c33235-b1f6-4f65-98f5-4fd4de3c025c\nError Number:207,State:1,Class:16","EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","RequestId":"0HN96NFA8DDQA:00000002","RequestPath":"/favicon.ico","ConnectionId":"0HN96NFA8DDQA"}
{"@t":"2024-12-27T21:17:15.1573260Z","@mt":"An unhandled exception has occurred while executing the request.","@l":"Error","@x":"Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'DeactivatedReasons'.\nInvalid column name 'DisapprovedReasons'.\nInvalid column name 'RejectedReasons'.\n   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)\n   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\n--- End of stack trace from previous location ---\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\n--- End of stack trace from previous location ---\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)\n   at Microsoft.AspNetCore.Identity.SignInManager`1.ValidateSecurityStampAsync(ClaimsPrincipal principal)\n   at Microsoft.AspNetCore.Identity.SecurityStampValidator`1.ValidateAsync(CookieValidatePrincipalContext context)\n   at Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler.HandleAuthenticateAsync()\n   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.AuthenticateAsync()\n   at Microsoft.AspNetCore.Authentication.AuthenticationService.AuthenticateAsync(HttpContext context, String scheme)\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)\nClientConnectionId:78c33235-b1f6-4f65-98f5-4fd4de3c025c\nError Number:207,State:1,Class:16","@tr":"046569d683ef1e0e976d140cb37f815e","@sp":"f5d9034d72aa04e5","EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HN96NFA8DDQA:00000002","RequestPath":"/favicon.ico","ConnectionId":"0HN96NFA8DDQA"}
