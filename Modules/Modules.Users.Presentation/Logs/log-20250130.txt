{"@t":"2025-01-30T09:55:35.2753940Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"23eb75062e9d7db7d783723e979ea758","@sp":"c7d245037339e212","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNA12FQIRIHK:00000003","RequestPath":"/api/PartnerBank/Account/Register","ConnectionId":"0HNA12FQIRIHK"}
{"@t":"2025-01-30T09:58:15.2272220Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"03b82f8ed5441f433dd68a8778f657ec","@sp":"48d425b387b08d36","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNA12ICE3E5M:00000003","RequestPath":"/api/PartnerBank/Account/Register","ConnectionId":"0HNA12ICE3E5M"}
{"@t":"2025-01-30T10:01:26.9320450Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"2801021d60a1444aa27f6a87fa62bf72","@sp":"ed7948d237549997","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNA12K44EE10:00000003","RequestPath":"/api/PartnerBank/Account/Register","ConnectionId":"0HNA12K44EE10"}
{"@t":"2025-01-30T15:34:24.4026570Z","@mt":"Failed executing DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@l":"Error","elapsed":"163","parameters":"@__normalizedEmail_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\n","commandText":"SELECT TOP(2) [u].[Id], [u].[AccessFailedCount], [u].[ActivatedBy], [u].[ActivatedDate], [u].[ApprovedBy], [u].[ApprovedDate], [u].[Channel], [u].[ConcurrencyStamp], [u].[ContactPerson_Email], [u].[ContactPerson_FullName], [u].[ContactPerson_PhoneNumber], [u].[ContactPerson_Position], [u].[CreatedBy], [u].[CreatedDate], [u].[DeactivatedBy], [u].[DeactivatedDate], [u].[DeactivatedReasons], [u].[DeletedBy], [u].[DeletedDate], [u].[DepartmentId], [u].[DisapprovedBy], [u].[DisapprovedDate], [u].[DisapprovedReasons], [u].[Email], [u].[EmailConfirmed], [u].[FirebaseId], [u].[FirstName], [u].[IdentificationImage], [u].[IdentificationImageOne], [u].[IdentificationNumber], [u].[IdentificationTypeId], [u].[IdentificationUniqueNumber], [u].[IsFirstTime], [u].[LastName], [u].[LastReceiptImage], [u].[LastReceiptNumber], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[MiddleName], [u].[ModifiedBy], [u].[ModifiedDate], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PartnerName], [u].[PassportPicture], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[ProfilePicture], [u].[RefreshToken], [u].[RefreshTokenExpires], [u].[RegistrationDate], [u].[RejectedBy], [u].[RejectedDate], [u].[RejectedReasons], [u].[SecurityStamp], [u].[SelfieImage], [u].[Status], [u].[TwoFactorEnabled], [u].[UnitId], [u].[UserName], [u].[UserType], [u].[VerifiedBy], [u].[VerifiedDate]\nFROM [dbo].[Users] AS [u]\nWHERE [u].[NormalizedEmail] = @__normalizedEmail_0","EventId":{"Id":20102,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command"}
{"@t":"2025-01-30T15:34:24.4500090Z","@mt":"An exception occurred while iterating over the results of a query for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'UserType'.\n   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)\n   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\n--- End of stack trace from previous location ---\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\n--- End of stack trace from previous location ---\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\nClientConnectionId:fb972035-31f2-4c1c-8fbb-7f3e3b0bca58\nError Number:207,State:1,Class:16","contextType":"Modules.Users.Infrastructure.UserDbContext","newline":"\n","error":"Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'UserType'.\n   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)\n   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\n--- End of stack trace from previous location ---\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\n--- End of stack trace from previous location ---\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\nClientConnectionId:fb972035-31f2-4c1c-8fbb-7f3e3b0bca58\nError Number:207,State:1,Class:16","EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query"}
